@page "/blackLists"

@using BlueNet.Manager.Components;

@inject IConfiguration Configuration

<h3>Danh sách trang bị cấm</h3>

@if (BlackLists == null)
{
    <LoadingIndicator />
}
else
{
    <div class="row">
        <BlackListSearchForm OnSearch="SearchBlackList"></BlackListSearchForm>
    </div>

    <div class="row mt-4">
        <table class="table">
            <thead>
                <tr>
                    <th>BlackListId</th>
                    <th>Url</th>
                    <th>UserId</th>
                    <th>Create Date</th>
                    <th>

                    </th>
                </tr>
            </thead>

            <tbody>
                @foreach (var item in BlackLists)
                {
                    <tr>
                        <td>@item.BlackListId</td>
                        <td>@item.Url</td>
                        <td>@item.UserId</td>
                        @*<td>@item.CreatedDate.ToString("dd/MM/yyyy hh:mm")</td>*@

                        <td>@item.CreatedDate.ToString(Configuration["DataTimeFormat"])</td>
                        <td>
                            <a href="/blackListDetails/@item.BlackListId" class="btn btn-primary">Detail</a>
                            <a href="/blackListUpdate/@item.BlackListId" class="btn btn-warning">Edit</a>

                            @if (role == 1)
                            {
                                <button class="btn btn-danger" @onclick="()=> OnDeleteBlackList(item.BlackListId)">Delete</button>
                            }

                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>

    <Confirmation ConfirmationMessage="Are you sure to delete?"
              ConfirmationTitle="Delete Task"
              @ref="DeleteConfirmation"
              ConfirmationChanged="OnConfirmDeleteBlackList">

    </Confirmation>
}
